{% extends "base_generic.html" %}

{% block content %}

    
    <div class="collapse select-options" id="collapseExample">
    <div class="card card-body options-navbar">
        <ul class="options">
            <li><button id="share" name="share">Share</button></li>
            <li class=""><a href="#" name='delete' onclick="setHrefToSelectedBooks(this)">Delete</a></li>
            <li class=""><a href="#" name='download' onclick="setHrefToSelectedBooks(this)">Download</a></li>
            <li class=""><a href="#" name='share' onclick="setHrefToSelectedBooks(this)">Share</a></li>

        </ul>
    </div>
  </div>
    

<div class="gbd m2 p1 bookshelf-rows" id="bookshelf-rows-box">

    {% for tag,book_set in books_dict.items %}

    <!-- <div class="row row-border">
        <div class="book-category">
            <p>{{ tag | title | cut:"_" }}</p>
        </div>
        <div id="carouselExampleControls1" class="carousel slide" data-bs-ride="carousel">
            <div class="p1 book-row">
                <div class="carousel-inner">
                    {% for book_arr in book_set %}
                    <div class="carousel-item">
                        <div class="book-row-content">
                            {% for book in book_arr %}
                            <div class="book-card m0 p0" oncontextmenu="RightClickBookCard(event)"
                                onmouseenter="MouseOnBookCard(this,event)" onmouseleave="MouseOnBookCard(this,event)">
                                <div class="book-content" style="height: 100%;">
                                    <a onclick="showPdf(event,this)" href="{% url 'show-pdf' id=book.id %}" target="_blank">
                                        <div class="book-img-box imageContent">
                                            <img class="book-img" src="{{ book.getPdfImgUrl }}" width="100%"
                                                height="100%" alt="">
                                        </div>
                                    </a>
                                    <input type="hidden" name="" value="{{ book.id }}">
                                    <div class="book-text-box textContent fac">
                                        <p class="book-text title" style="font-size: 20px;"><b>{{ book.name | title }}</b></p>
                                    </div>

                                    <div class="book-select select-box"
                                        onclick="SelectBook(event,'{{ book.getBookId }}')"
                                        style="position: absolute;top: -5px;right: -5px;visibility: hidden;">
                                    </div>

                                    <a class="book-card-options" id="book_delete_link"
                                        style="position: absolute;bottom: -5px;right: -5px;visibility: hidden;"
                                        href="{% url 'delete-book' id=book.getBookId %}">
                                        <div class="delete-button">
                                            <img src="/static/Images/delete_book_button.png" width="25px" alt="">
                                        </div>
                                    </a>

                                    <a class="book-card-options" id="book_download_link"
                                        style="position: absolute;bottom: -5px;left: -5px;visibility: hidden;" download
                                        href="{{ book.pdf.url }}">
                                        <div class="download-button">
                                            <img src="/static/Images/delete_book_button.png" width="25px" alt="">
                                        </div>
                                    </a>

                                </div>

                            </div>
                            {% endfor %}

                        </div>

                    </div>
                    {% endfor %}
                </div>
            </div>

            <div class="left-btn carousel-btn">
                <button style="width: 30px;" class="bd carousel-control-prev" type="button"
                    data-bs-target="#carouselExampleControls1" data-bs-slide="prev">
                    <img src="/static/Images/bg/ra1.png" style="transform: rotate(180deg);" width="100%" height="30%"
                        alt="">
                    <span class="visually-hidden">Previous</span>
                </button>
            </div>
            <div class="right-btn carousel-btn">
                <button style="width: 30px;" class="carousel-control-next" type="button"
                    data-bs-target="#carouselExampleControls1" data-bs-slide="next">
                    <img src="/static/Images/bg/ra1.png" width="100%" height="30%" alt="">
                    <span class="visually-hidden">Next</span>
                </button>
            </div>

        </div>
    </div> -->
    
    {% endfor %}
    
</div>

{% endblock %}

{% block js_files %}
{% load static %}
<script type="module" src="{% static '/JS/helper.js' %}"></script>
<script type="module" src="{% static '/JS/home.js' %}"></script>
{% endblock %}


<!-- {% for tag,book_set in books_dict.items %}
    <div class="bd p1 book-row">
        <div class="bd book-row-content">
                {% for book in book_set %}
                    <a href="{{ book.getPdfUrl }}">
                        <div class="book-card m0 p1 bd">
                            <div class="book-content bd" style="height: 100%;">
                                <div class="book-img-box imageContent bd">
                                    <img class="book-img" src="{{ book.getPdfImgUrl }}" width="100%" height="100%" alt="">
                                </div>
                                <div class="book-text-box textContent fac bd">
                                    <p class="book-text title" style="font-size: 20px;"><b>{{ book.name }}</b></p>
                                </div>
                            </div>
                        </div>
                    </a>
                {% endfor %}
        </div>
    </div>
    {% endfor %} -->



<!-- 
{% for tag,books in books_dict.items %}
<p><strong>{{ tag }}</strong></p>
<ul>
    {% for book in books %}
    <li><a style="text-decoration: none;" href="{{ book.getPdfUrl }}">{{ book.name }}</a></li>
    <img src="{{ book.getPdfImgUrl }}" width="150px" height="200px" alt="">
    {% endfor %}
</ul>
{% endfor %} -->